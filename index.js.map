{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst buildGalleryMarkup = hits =>\n  hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n          <div class=\"img-data\">\n            <div class=\"data-values\">Likes <p>${likes}</p></div>\n            <div class=\"data-values\">Views <p>${views}</p></div>\n            <div class=\"data-values\">Comments <p>${comments}</p></div>\n            <div class=\"data-values\">Downloads <p>${downloads}</p></div>\n          </div>\n        </a>\n      </li>`\n    )\n    .join('');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n  const inputField = form.elements.searchInput.value.trim();\n\n  if (inputField.length === 0) {\n    gallery.innerHTML = '';\n    return iziToast.error({\n      message: 'Empty field',\n    });\n  }\n\n  fetch(\n    `https://pixabay.com/api/?key=14990931-ad4ebe1f82b0ac4449d9d4609&q=${inputField}&image_type=photo&orientation=horizontal&safesearch=false`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        gallery.innerHTML = '';\n        return iziToast.error({\n          message:\n            'âŒ Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      gallery.innerHTML = buildGalleryMarkup(hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      gallery.innerHTML = '';\n      iziToast.error({ message: `Request failed: ${error.message}` });\n    })\n    .finally(() => form.reset());\n});\n"],"names":["form","gallery","lightbox","SimpleLightbox","buildGalleryMarkup","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","evt","inputField","iziToast","response","error"],"mappings":"iyBAOA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GACzBA,EACG,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA,gDAGyBC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA;AAAA,YAI7D,EACK,KAAK,EAAE,EAEZZ,EAAK,iBAAiB,SAAUa,GAAO,CACrCA,EAAI,eAAc,EAClBZ,EAAQ,UAAY,+BACpB,MAAMa,EAAad,EAAK,SAAS,YAAY,MAAM,KAAI,EAEvD,GAAIc,EAAW,SAAW,EACxB,OAAAb,EAAQ,UAAY,GACbc,EAAS,MAAM,CACpB,QAAS,aACf,CAAK,EAGH,MACE,qEAAqED,CAAU,2DACnF,EACK,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAI,CACtB,CAAC,EACA,KAAK,CAAC,CAAE,KAAAX,KAAW,CAClB,GAAIA,EAAK,SAAW,EAClB,OAAAJ,EAAQ,UAAY,GACbc,EAAS,MAAM,CACpB,QACE,4EACZ,CAAS,EAEHd,EAAQ,UAAYG,EAAmBC,CAAI,EAC3CH,EAAS,QAAO,CAClB,CAAC,EACA,MAAMe,GAAS,CACdhB,EAAQ,UAAY,GACpBc,EAAS,MAAM,CAAE,QAAS,mBAAmBE,EAAM,OAAO,GAAI,CAChE,CAAC,EACA,QAAQ,IAAMjB,EAAK,OAAO,CAC/B,CAAC"}